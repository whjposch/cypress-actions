name: Block untested PR
on:
  pull_request:
    types: [opened, synchronize, reopened]
    # TODO: We should not force tests for all commits, only specific changes
jobs:
  block-untested-commit:
    name: Block untested commits
    runs-on: ubuntu-latest
    # if: github.head_ref == 'main'
    steps:
      - run: |
          echo ${{ github.base_ref }}
          echo "Blocked PR"
          exit 1
      # Step 1: Checkout branch
      # Step 2: Calculate changeset and check if block should be triggered
      # Step 3.1: Block PR if not tested
      # 3.2: Unblock PR if
